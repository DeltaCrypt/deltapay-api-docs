
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Official Documentation for the DeltaPay API.">
      
      
        <meta name="author" content="Adrian Albert Koch">
      
      
        <link rel="canonical" href="https://deltapay.co.sz/common_usecases/b2c/">
      
      
        <link rel="prev" href="../c2b/">
      
      
        <link rel="next" href="../qr_code/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>B2C (Disbursement) - DeltaPay API Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  
<meta property="og:type" content="website" />
<meta property="og:title" content="B2C (Disbursement) - DeltaPay API Documentation" />
<meta property="og:description" content="Official Documentation for the DeltaPay API." />
<meta property="og:image" content="https://deltapay.co.sz/assets/images/social/common_usecases/b2c.png" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:url" content="https://deltapay.co.sz/common_usecases/b2c/" />
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:title" content="B2C (Disbursement) - DeltaPay API Documentation" />
<meta property="twitter:description" content="Official Documentation for the DeltaPay API." />
<meta property="twitter:image" content="https://deltapay.co.sz/assets/images/social/common_usecases/b2c.png" />
</head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#scenario" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="DeltaPay API Documentation" class="md-header__button md-logo" aria-label="DeltaPay API Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DeltaPay API Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              B2C (Disbursement)
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../getting_started/permissions/" class="md-tabs__link">
          
  
  
    
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../c2b/" class="md-tabs__link">
          
  
  
    
  
  Common Use Cases

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="DeltaPay API Documentation" class="md-nav__button md-logo" aria-label="DeltaPay API Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DeltaPay API Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/permissions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Permissions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/authentication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authentication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/callbacks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Callbacks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Common Use Cases
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Common Use Cases
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../c2b/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    C2B (Collection)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    B2C (Disbursement)
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    B2C (Disbursement)
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#recommended-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recommended flow
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manual-raw-transaction-flow-advanced" class="md-nav__link">
    <span class="md-ellipsis">
      
        Manual / raw-transaction flow (advanced)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is-it-safe-to-send-the-private-key" class="md-nav__link">
    <span class="md-ellipsis">
      
        Is it Safe to Send the Private Key?
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transactions-vs-blockchain-transactions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Transactions vs Blockchain Transactions
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../qr_code/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    QR Code Spec
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../payment_requests/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Payment Requests
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../signature_verification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Signature Verification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../blockchain/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Blockchain Interactions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#recommended-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Recommended flow
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manual-raw-transaction-flow-advanced" class="md-nav__link">
    <span class="md-ellipsis">
      
        Manual / raw-transaction flow (advanced)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#is-it-safe-to-send-the-private-key" class="md-nav__link">
    <span class="md-ellipsis">
      
        Is it Safe to Send the Private Key?
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transactions-vs-blockchain-transactions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Transactions vs Blockchain Transactions
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="scenario">Scenario</h1>
<p>Disbursing funds to a customer’s (or another business’) DeltaPay account follows this process:</p>
<ol>
<li>(Optional) Check whether the transaction is possible using a <a href="#1-check--preview-transaction">preview endpoint</a></li>
<li>Send and sign the transfer in a single call (recommended)</li>
<li>(Optional) Check the blockchain transaction status</li>
<li>Receive a callback when the transaction status changes (IPN)</li>
<li>Query the transaction on the DeltaPay side</li>
</ol>
<h3 id="recommended-flow">Recommended flow</h3>
<p>Use <code>POST /transaction/send-transfer</code>.
This endpoint:</p>
<ul>
<li>creates the DeltaPay transaction</li>
<li>builds the underlying blockchain transaction</li>
<li>signs it using the private key you provide</li>
<li>submits it to the blockchain</li>
</ul>
<p>The response contains a <code>tracking_id</code> corresponding to the <code>blockchain_transaction_id</code> of the transaction that was just created.</p>
<h3 id="manual-raw-transaction-flow-advanced">Manual / raw-transaction flow (advanced)</h3>
<p>If you cannot send the private key, you can use the raw-transaction flow:</p>
<ol>
<li>Call <code>POST /transaction/initiate-transfer</code> to obtain a <code>raw_transaction</code></li>
<li>Sign it on your side</li>
<li>Submit the signed bytes using <code>POST /blockchain/signed-transaction</code></li>
</ol>
<p>This is only needed when your key-management requirements prevent you from using the recommended flow.
Details of signing and submitting raw transactions are described in the <a href="../blockchain/">blockchain section</a>.</p>
<h3 id="is-it-safe-to-send-the-private-key">Is it Safe to Send the Private Key?</h3>
<p>In the recommended flow, the private key is included in the HTTPS request body. The following points describe how the key is handled on DeltaPay’s side:</p>
<ul>
<li>Transport uses TLS, so the private key is protected by the same communication channel that is normally used to send API keys, passwords, and other sensitive credentials.</li>
<li>The key is used only to sign the transaction in memory and is not stored in DeltaPay’s database or logs.</li>
<li>Requests should be made from your backend system. The private key should not be exposed to client-side environments.</li>
<li>The private key should be treated like any other sensitive secret on your side (for example, avoid logging it and keep it in a secret-management system).</li>
</ul>
<p>Using this flow effectively shifts the security boundary from the public–private key pair itself to the security of the channel and environment through which the private key is transmitted. This is the same model used when sending API keys, authentication tokens, or passwords to a backend service.</p>
<p>If your policies do not allow the private key to leave your infrastructure, use the manual flow.</p>
<h2 id="transactions-vs-blockchain-transactions">Transactions vs Blockchain Transactions</h2>
<p>DeltaPay distinguishes between:</p>
<p><strong>DeltaPay transactions (platform-level)</strong></p>
<ul>
<li>Represent <strong>business events</strong> like transfers, deposits, withdrawals</li>
<li>Stored in the DeltaPay database with a <code>transaction_id</code> and business-level status (pending, initiated, approved, failed, succeeded, and reversed)</li>
</ul>
<p><strong>Blockchain transactions (on-chain)</strong></p>
<ul>
<li>Ethereum transactions that interact with smart contracts on our permissioned chain</li>
<li>Identified by a <code>blockchain_transaction_id</code> and have their own status (pending, failed, and succeeded)</li>
</ul>
<p>A <strong>single</strong> DeltaPay transaction may involve <strong>multiple</strong> blockchain transactions (for example: initiate, approve, and finalise).</p>
<p>When a blockchain transaction fails, the underlying error comes directly from the smart contract. These errors are per blockchain transaction, not per DeltaPay transaction. If you want to understand exactly <em>why</em> something failed on-chain, you can inspect the blockchain error using:</p>
<ul>
<li><a href="https://api.dev.deltacrypt.net/docs#/blockchain/get_transaction_status_blockchain_transaction_status_get"><code>GET /blockchain/transaction-status</code></a></li>
<li><a href="https://api.dev.deltacrypt.net/docs#/blockchain/get_transaction_error_message_blockchain_transaction_error_message_get"><code>GET /blockchain/transaction/error-message</code></a></li>
</ul>
<p>This information is primarily useful for debugging or for communicating more detailed error context to the end user. In normal operation, the <a href="#1-check--preview-transaction"><strong>preview endpoints</strong></a> should prevent the vast majority of attempts that would result in an on-chain failure.
The blockchain error endpoints are therefore mostly relevant for edge cases, such as race conditions (e.g. limits or balances changing after the preview call). For more information on how to interact with the blockchain, please refer to <a href="../blockchain/">this section</a>.</p>
<p>Here’s a version updated to use <code>transfer-preview</code>, with your new examples and a short explanation of the response shape.</p>
<h1 id="check-preview-transaction">Check / Preview Transaction</h1>
<p>Before sending money, it is advisable to preview whether the transaction is likely to succeed. This avoids unnecessary polling and simplifies error handling.</p>
<p>A transaction may fail for several reasons:</p>
<ul>
<li>Insufficient account balance</li>
<li>Limits exceeded (daily / monthly / wallet-level)</li>
<li>Transaction amount too low</li>
<li>Account suspended or closed</li>
<li>User not whitelisted</li>
</ul>
<blockquote>
<p><strong>Note</strong>: Insufficient spending allowances (daily spending limits) do not prevent the transaction from being created. In such cases the transaction will be created but <strong>require approval</strong>, which is reflected in its status when you query it or receive callbacks.</p>
</blockquote>
<h2 id="transfer-preview">Transfer preview</h2>
<p><a href="https://api.dev.deltacrypt.net/docs#/transactions/get_transfer_preview_transaction_transfer_preview_get"><code>GET /transaction/transfer-preview</code></a></p>
<p>This endpoint returns all information needed to decide whether a transfer should be initiated, without actually creating a transaction.</p>
<p><strong>Request Parameters</strong></p>
<ul>
<li><code>sender_wallet_address</code>: <em>string</em></li>
<li><code>transaction_type</code>: <em>string</em></li>
<li><code>amount</code>: <em>number</em></li>
<li><code>recipient_phone_country_dialcode</code>: <em>Optional[string]</em></li>
<li><code>recipient_phone_number</code>: <em>Optional[string]</em></li>
<li><code>recipient_username</code>: <em>Optional[string]</em></li>
<li><code>recipient_business_account_id</code>: <em>Optional[int]</em></li>
</ul>
<p>The <code>sender_wallet_address</code> must be <a href="../../getting_started/setup/#link-api-key">linked</a> to an account.</p>
<p>The recipient can be identified using (<code>recipient_phone_country_dialcode</code> + <code>recipient_phone_number</code>), <code>recipient_username</code>, <strong>or</strong> a <code>recipient_business_account_id</code>. For personal accounts, use either the phone number or the username; for business accounts, use the business account ID.</p>
<!-- TODO: maybe just make this bold -->
<h3 id="response-structure">Response structure</h3>
<!-- **Response structure** -->

<p>The endpoint always returns the same top-level fields:</p>
<ul>
<li><code>transaction_possible</code></li>
<li><code>fee_info</code></li>
<li><code>cashback_possible</code></li>
<li><code>recipient_username</code></li>
<li><code>recipient_legal_name</code></li>
<li><code>recipient_business_account_info</code></li>
<li><code>sender_tills</code></li>
<li><code>recipient_tills</code></li>
</ul>
<p>What changes is which of these contain data:</p>
<ul>
<li>
<p><code>transaction_possible.possible</code> is always present.</p>
</li>
<li>
<p>If <em>true</em>, it includes <code>sender_account_id</code>.</p>
</li>
<li>If <em>false</em>, it includes <code>error_name</code> and <code>error_arguments</code> describing why the transfer cannot proceed.</li>
<li><code>fee_info</code> is populated when the fee can be calculated. It is <code>null</code> if the transaction is not possible.</li>
<li><code>cashback_possible</code> describes whether cashback can be applied and, if not, why. It is <code>null</code> when cashback is not evaluated (for example, when the transaction itself is not possible). <!-- TODO: this may change depending on how we end up doing cashback transaction. --></li>
<li>Recipient fields and tills arrays are filled when the recipient and available tills can be resolved; otherwise they are <code>null</code> or empty arrays.</li>
</ul>
<p>This gives you enough information to decide whether to proceed and to show meaningful messages to the user before actually creating a transaction.</p>
<p><strong>Example response structure (transaction possible):</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="p">{</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">  </span><span class="nt">&quot;transaction_possible&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">    </span><span class="nt">&quot;possible&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">    </span><span class="nt">&quot;sender_account_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">    </span><span class="nt">&quot;fee&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">  </span><span class="nt">&quot;fee_info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">    </span><span class="nt">&quot;fee&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">    </span><span class="nt">&quot;cashback_received&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">  </span><span class="nt">&quot;cashback_possible&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">    </span><span class="nt">&quot;possible&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="w">    </span><span class="nt">&quot;error_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ERR_ACCOUNT_TYPE_REQUIRED&quot;</span><span class="p">,</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="w">    </span><span class="nt">&quot;error_arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="w">      </span><span class="s2">&quot;83&quot;</span><span class="p">,</span>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="w">      </span><span class="s2">&quot;[&#39;3&#39;]&quot;</span><span class="p">,</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="w">      </span><span class="s2">&quot;1&quot;</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="w">    </span><span class="p">]</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="w">  </span><span class="nt">&quot;recipient_username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dayni&quot;</span><span class="p">,</span>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="w">  </span><span class="nt">&quot;recipient_legal_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;D. Test&quot;</span><span class="p">,</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="w">  </span><span class="nt">&quot;recipient_business_account_info&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a><span class="w">  </span><span class="nt">&quot;sender_tills&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a><span class="w">      </span><span class="nt">&quot;till_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mulatill&quot;</span><span class="p">,</span>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a><span class="w">      </span><span class="nt">&quot;till_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a><span class="w">      </span><span class="nt">&quot;active&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a><span class="w">      </span><span class="nt">&quot;deactivation_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a><span class="w">  </span><span class="p">],</span>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a><span class="w">  </span><span class="nt">&quot;recipient_tills&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Example response structure (transaction not possible):</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="p">{</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">  </span><span class="nt">&quot;transaction_possible&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">    </span><span class="nt">&quot;possible&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">    </span><span class="nt">&quot;error_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Sender wallet address does not belong to an active account or user&quot;</span><span class="p">,</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">    </span><span class="nt">&quot;error_arguments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">      </span><span class="s2">&quot;0xe1a5e0d853a2620ffac9d15fe9e5fd8d19370ca6&quot;</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">    </span><span class="p">]</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">  </span><span class="nt">&quot;fee_info&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">  </span><span class="nt">&quot;cashback_possible&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="w">  </span><span class="nt">&quot;recipient_username&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="w">  </span><span class="nt">&quot;recipient_legal_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="w">  </span><span class="nt">&quot;recipient_business_account_info&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="w">  </span><span class="nt">&quot;sender_tills&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="w">  </span><span class="nt">&quot;recipient_tills&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="p">}</span>
</code></pre></div>
<h3 id="race-conditions-and-limitations">Race Conditions and Limitations</h3>
<p>A “possible = true” preview is <strong>advisory</strong>, but not a strict guarantee that the transaction will in fact settle successfully, since, among other reasons:</p>
<ul>
<li>The user may send/receive other funds after your preview.</li>
<li>The user's KYC type may change, affecting ther limits</li>
<li>Their account status can change (e.g. suspended).</li>
</ul>
<p>Example race:</p>
<ol>
<li>You call <code>GET /transaction/transfer-preview</code> and receive <code>"possible": true</code>.</li>
<li>The user performs additional activity (e.g. another large transfer).</li>
<li>When you actually send the transfer, it fails or requires approval due to limits being exceeded.</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Similar <strong>preview / possible</strong> endpoints exist for other flows (deposits, withdrawals). Refer to the corresponding sections and the Swagger docs for details.</p>
</blockquote>
<h1 id="send-and-sign-transaction">Send and Sign Transaction</h1>
<p>For most server-side integrations, you should use:</p>
<p><a href="https://api.dev.deltacrypt.net/docs#/transactions/send_transfer_transaction_send_transfer_post"><code>POST /transaction/send-transfer</code></a></p>
<p>This endpoint:</p>
<ol>
<li>Validates the request and checks basic constraints</li>
<li>Creates the DeltaPay transaction</li>
<li>Constructs the underlying raw blockchain transaction</li>
<li>Signs it using the private key you provide</li>
<li>Submits it to the blockchain</li>
<li>Returns a <strong>tracking ID</strong> you can later use to correlate callbacks and queries</li>
</ol>
<!-- TODO: be consistant with formatting -->
<!-- ### Request Parameters -->
<p><strong>Request Parameters</strong></p>
<!-- TODO: Update once we fixed phone_number, username, account_id thing -->
<!-- TODO: most likely to be added:
* `recipient_till_id`: *Optional[int]*
* `recipient_account_id`: *Optional[int]* (or business)
* `recipient_username`: *Optional[string]* -->
<p>The body closely mirrors <code>POST /transaction/initiate-transfer</code>, replacing the <code>sender_wallet_address</code> with the <code>private_key</code> field.</p>
<ul>
<li><code>private_key</code>: <em>string</em></li>
<li><code>amount</code>: <em>number</em></li>
<li><code>note</code>: <em>Optional[string]</em></li>
<li><code>metadata</code>: <em>Optional[string]</em></li>
<li><code>sender_till_id</code>: <em>Optional[int]</em></li>
<li><code>recipient_phone_country_dialcode</code>: <em>string</em></li>
<li><code>recipient_phone_number</code>: <em>string</em></li>
<li><code>transaction_type</code>: <em>string</em> (A list of valid transaction types can be retrieved <a href="https://api.dev.deltacrypt.net/transaction-types">here</a>)</li>
<li><code>source_of_funds</code>: <em>Optional[string]</em></li>
</ul>
<p>As for similar endpoints:</p>
<p>The <code>private_key</code> must be <a href="../../getting_started/setup/#link-api-key">linked</a> to an account.</p>
<p>The <code>metadata</code> is an optional free-form string (e.g., JSON-encoded string with order info).</p>
<p><code>source_of_funds</code> must only be provided for transaction with <code>transaction_type == "cash_deposit"</code>.</p>
<!-- The recipient can be identified using (`recipient_phone_country_dialcode` + `recipient_phone_number`), `recipient_username`, **or** a `recipient_business_account_id`. For personal accounts, use either the phone number or the username; for business accounts, use the business account ID. -->

<!-- ### Example Response -->
<p><strong>Example Response</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="p">{</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">  </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">  </span><span class="nt">&quot;tracking_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;420&quot;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="p">}</span>
</code></pre></div>
<p>The <code>tracking_id</code> corresponding to the <code>blockchain_transaction_id</code> of the transaction that was just created and can be used to poll its status, see <a href="../blockchain/#get-blockchain-transaction-status">Get Blockchain Transaction Status</a>.</p>
<h2 id="manual-raw-transaction-flow">Manual / Raw-Transaction Flow</h2>
<p>If you cannot send the private key to DeltaPay, or you maintain your own signing infrastructure, you can use the more general <strong>raw-transaction</strong> flow documented here and in the dedicated <a href="../blockchain/">Blockchain Interactions</a> section.</p>
<p><a href="https://api.dev.deltacrypt.net/docs#/transactions/initiate_transfer_transaction_initiate_transfer_post"><code>POST /transaction/initiate-transfer</code></a></p>
<p><strong>Request Parameters</strong></p>
<p>The body closely mirrors <code>POST /transaction/send-transfer</code>, replacing the <code>private_key</code> with the <code>sender_wallet_address</code> field. For a detailled explanation of the fields, refer to the <a href="#2-send-and-sign-transaction">above section</a>.</p>
<ul>
<li><code>sender_wallet_address</code>: <em>string</em></li>
<li><code>amount</code>: <em>number</em></li>
<li><code>note</code>: <em>Optional[string]</em></li>
<li><code>sender_till_id</code>: <em>Optional[int]</em></li>
<li><code>recipient_username</code>: <em>Optional[string]</em></li>
<li><code>recipient_account_id</code>: <em>Optional[int]</em></li>
<li><code>recipient_till_id</code>: <em>Optional[int]</em></li>
<li><code>transaction_type</code>: <em>string</em></li>
<li><code>source_of_funds</code>: <em>Optional[string]</em></li>
</ul>
<p><strong>Example Response</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="p">{</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">  </span><span class="nt">&quot;raw_transaction&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="nt">&quot;from&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0x7E5F4552091A69125d5DfCb7b8C2659029395Bdf&quot;</span><span class="p">,</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">    </span><span class="nt">&quot;to&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0x52A816dB82157a5f4b2c4Fb5Be745AC4103Db674&quot;</span><span class="p">,</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">    </span><span class="nt">&quot;nonce&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">    </span><span class="nt">&quot;chainId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1337&quot;</span><span class="p">,</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">    </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0x21d43aaf000000000.....&quot;</span><span class="p">,</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">    </span><span class="nt">&quot;gasLimit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0x1ffffffffffffe&quot;</span><span class="p">,</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="w">    </span><span class="nt">&quot;gasPrice&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="w">  </span><span class="nt">&quot;topic&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;initiate-transfer&quot;</span><span class="p">,</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="w">  </span><span class="nt">&quot;transaction_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">166</span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="p">}</span>
</code></pre></div>
<p>From this point onwards, you have a <code>raw_transaction</code> object that must be</p>
<ol>
<li>Signed with the private key corresponding to <code>sender_wallet_address</code>.</li>
<li>Submitted using <code>POST /blockchain/signed-transaction</code>.</li>
</ol>
<p>Please refer to the <a href="../blockchain/">Blockchain Interaction</a> section for language-specific signing examples as well as more details regarding the submission and tracking of blockchain transactions.</p>
<p>Here is a clean, consistent section you can append at the end.
No fluff, no ChatGPT tone — same documentation voice as the rest.</p>
<h2 id="tracking-the-transaction">Tracking the Transaction</h2>
<p>Once the transfer request has been submitted (either via the recommended flow or the raw-transaction flow), the transaction must be tracked asynchronously. A successful response from <code>POST transaction/send-transfer</code> or <code>POST blockchain/signed-transaction</code> only confirms that the blockchain transaction has been accepted into the transaction pool. It does <strong>not</strong> guarantee that the transaction will succeed. It may still fail on-chain, or the resulting DeltaPay transaction may require approval.</p>
<p>Tracking can be done using either:</p>
<ul>
<li>(recommended) A unique value placed in the <code>metadata</code> field that you can use to correlate events on your side</li>
<li>the <code>transaction_id</code> returned by the endpoint</li>
</ul>
<p>As with C2B (Collections), there are two mechanisms for tracking status:</p>
<ol>
<li>
<p><strong>Polling</strong> Query the transaction status until it reaches a final state.</p>
</li>
<li>
<p><strong>IPNs (Callbacks)</strong> Receive asynchronous notifications when the transaction state changes.
   The same considerations and behaviour as described in the Collections documentation apply here.</p>
</li>
</ol>
<p>For details on polling intervals, callback handling, idempotency, and retry logic, refer to the corresponding sections in the <a href="../c2b/">C2B (Collections)</a> documentation.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../c2b/" class="md-footer__link md-footer__link--prev" aria-label="Previous: C2B (Collection)">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                C2B (Collection)
              </div>
            </div>
          </a>
        
        
          
          <a href="../qr_code/" class="md-footer__link md-footer__link--next" aria-label="Next: QR Code Spec">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                QR Code Spec
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2024 DeltaCrypt GmbH. All rights reserved.

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://www.facebook.com/DeltaPayEswatini" target="_blank" rel="noopener" title="www.facebook.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256c0 120 82.7 220.8 194.2 248.5V334.2h-52.8V256h52.8v-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287v175.9C413.8 494.8 512 386.9 512 256"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.instagram.com/deltapayeswatini" target="_blank" rel="noopener" title="www.instagram.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M224.3 141a115 115 0 1 0-.6 230 115 115 0 1 0 .6-230m-.6 40.4a74.6 74.6 0 1 1 .6 149.2 74.6 74.6 0 1 1-.6-149.2m93.4-45.1a26.8 26.8 0 1 1 53.6 0 26.8 26.8 0 1 1-53.6 0m129.7 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8M399 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/company/deltapay_eswatini" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>